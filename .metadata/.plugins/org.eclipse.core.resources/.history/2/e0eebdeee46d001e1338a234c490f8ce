/*
 * adc.c
 *
 *  Created on: Oct 18, 2023
 *      Author: cddudley
 */
#include "adc.h"

void adc_init() {
    SYSCTL_RCGCGPIO_R |= 0x2; // enable GPIOB clock
    SYSCTL_RCGCADC_R |= 0x1; // enable ADC0 clock

    GPIO_PORTB_AFSEL_R &= 0xEF;

    GPIO_PORTB_DEN_R &= 0xEF; // disable digital function

    GPIO_PORTB_DIR_R &= 0xEF; // set pin 4 as input

    GPIO_PORTB_AMSEL_R |= 0x10;

    GPIO_PORTB_ADCCTL



    ADC0_ACTSS_R &= 0xFFFE;

    ADC0_EMUX_R &= 0xFFF0;

//    ADC0_TSSEL_R - don't need because we are using default trigger

    ADC0_SSMUX0_R = (ADC0_SSMUX0_R & 0xFFFFFFF0) | 0xA;

    ADC0_SSCTL0_R &=FFFFFFF2;

    ADC0_SAC_R |= 0x02; //hardware average




}

void adc_read(void);
